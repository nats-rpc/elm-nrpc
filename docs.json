[{"name":"Nrpc","comment":" Utilities for Nrpc generated code\n\n@docs Error, request, requestVoidReply, requestNoReply, subscribeToNoRequestMethod\n@docs streamRequest, cancelStreamRequest, heartbeat, setStreamRequestMarker, onRequestCanceled\n\n","unions":[{"name":"Error","comment":" Nrpc error type\n","args":[],"cases":[["Timeout",[]],["DecodeError",["String.String"]],["ClientError",["String.String"]],["ServerError",["String.String"]],["ServerTooBusy",["String.String"]],["EOS",["Basics.Int"]]]}],"aliases":[],"values":[{"name":"cancelStreamRequest","comment":" Cancel a stream request given its marker\n\nThe given marker must not have the \"stream/\" prefix\n\n","type":"String.String -> Nats.Effect datatype msg"},{"name":"heartbeat","comment":" Send a heartbeat in all the streamed requests. Should be done every seconds or so\n","type":"Nats.State Bytes.Bytes msg -> Nats.Effect Bytes.Bytes msg"},{"name":"onRequestCanceled","comment":" Returns a nats effect to apply when a request is canceled.\n\nIt sends the 'lastbeat' message on stream requests\n\n","type":"{ sid : String.String, id : String.String, marker : Maybe.Maybe String.String, subject : String.String, inbox : String.String } -> Nats.Effect Bytes.Bytes msg"},{"name":"request","comment":" Perform a request\n","type":"(arg -> Protobuf.Encode.Encoder) -> Protobuf.Decode.Decoder result -> String.String -> arg -> (Result.Result Nrpc.Error result -> msg) -> Nats.Effect Bytes.Bytes msg"},{"name":"requestNoReply","comment":" publish a message to a 'noreply' method\n\nSee <https://github.com/nats-rpc/nrpc/wiki/Specifications#noreply>\n\n","type":"(arg -> Protobuf.Encode.Encoder) -> String.String -> arg -> Nats.Effect Bytes.Bytes msg"},{"name":"requestVoidReply","comment":" Perform a request to a method with void\n","type":"(arg -> Protobuf.Encode.Encoder) -> String.String -> arg -> (Result.Result Nrpc.Error () -> msg) -> Nats.Effect Bytes.Bytes msg"},{"name":"setStreamRequestMarker","comment":" Add a marker to a streamRequest\n\nThe string \"stream/\" will be prepended to the marker, so the heartbeat mechanism\ncan still operate.\n\nThe \"stream/\" prefix must be added too for tracking the request with Nats.track.\n\n","type":"String.String -> Nats.Effect datatype msg -> Nats.Effect datatype msg"},{"name":"streamRequest","comment":" Perform a request expecting a streamed reply\n\nSee <https://github.com/nats-rpc/nrpc/wiki/Specifications#streamed-replies>\n\n","type":"(arg -> Protobuf.Encode.Encoder) -> Protobuf.Decode.Decoder result -> String.String -> arg -> (Result.Result Nrpc.Error result -> msg) -> Nats.Effect Bytes.Bytes msg"},{"name":"subscribeToNoRequestMethod","comment":" subscribe to a NoRequest method\n","type":"String.String -> Protobuf.Decode.Decoder a -> (Result.Result Nrpc.Error a -> msg) -> Nats.Sub Bytes.Bytes msg"}],"binops":[]}]